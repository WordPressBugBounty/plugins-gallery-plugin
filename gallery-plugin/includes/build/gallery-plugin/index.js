(()=>{"use strict";const e=window.wp.blocks,l=window.wp.i18n,s=window.wp.blockEditor,r=window.wp.components,n=(window.React,window.wp.coreData),t=window.ReactJSXRuntime;function i({hasResolved:e,pages:s,setAttributes:n}){if(!e)return(0,t.jsx)(r.Spinner,{});if(!s?.length)return(0,t.jsx)("div",{children:"No pages to display"});const i=s.map(e=>({key:e.id,name:e.title.rendered}));return(0,t.jsx)(r.CustomSelectControl,{__next40pxDefaultSize:!0,label:(0,l.__)("Select Gallery for display","gallery-plugin"),options:i,onChange:({selectedItem:e})=>n({galleryID:e.key})})}const a=JSON.parse('{"UU":"gallery-plugin/gallery-plugin"}'),o=(0,t.jsx)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",children:(0,t.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm.5 16c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V7h15v12zM9 10H7v2h2v-2zm0 4H7v2h2v-2zm4-4h-2v2h2v-2zm4 0h-2v2h2v-2zm-4 4h-2v2h2v-2zm4 0h-2v2h2v-2z"})});(0,e.registerBlockType)(a.UU,{icon:o,edit:function({attributes:e,setAttributes:a}){const{galleryID:o,display:d,displayMode:c}=e;let p,g;o>0?p=o:(p=0,a({galleryID:0,display:"",displayMode:!1})),g=d;const h=(0,n.useEntityRecords)("postType","bws-gallery",{per_page:-1});return h.hasResolved&&0==p&&h.records.length>0&&a({galleryID:h.records[0].id}),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(r.Panel,{header:(0,l.__)("Gallery by BestWebSoft","gallery-plugin"),children:(0,t.jsxs)(React.Fragment,{children:[(0,t.jsxs)(r.PanelBody,{title:(0,l.__)("Gallery Settings","gallery-plugin"),children:[(0,t.jsx)("div",{...(0,s.useBlockProps)(),children:(0,t.jsx)("p",{children:(0,t.jsx)(i,{hasResolved:h.hasResolved,pages:h.records,setAttributes:a})})}),(0,t.jsx)(r.PanelRow,{children:(0,t.jsx)(r.ToggleControl,{checked:c,label:(0,l.__)("Display Gallery cover with link","gallery-plugin"),help:(0,l.__)("Add a gallery cover including featured image, description, and a link to your single gallery","gallery-plugin"),onChange:()=>a({display:c?"":" display=short",displayMode:!c})})})]}),(0,t.jsx)(r.PanelBody,{children:(0,t.jsx)(r.PanelRow,{children:(0,t.jsxs)("p",{...(0,s.useBlockProps)(),children:["[print_gllr id=",p,g,"]"]})})})]},".0")})})},save:function({attributes:e}){const{fallbackCurrentYear:l,showStartingYear:r,startingYear:n}=e;if(!l)return null;let i;return i=r&&n?n+"–"+l:l,(0,t.jsxs)("p",{...s.useBlockProps.save(),children:["© ",i]})}})})();